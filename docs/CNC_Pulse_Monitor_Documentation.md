# CNC Pulse Monitor

## Титульная страница
Название системы: **CNC Pulse Monitor**

## Введение
Назначение системы, общее описание.

## Аппаратная часть
- Список компонентов (модели, ссылки для заказа).
- Принципиальная электрическая схема (см. `docs/hardware/cnc_pulse_monitor.kicad_sch`).
- Подробные схемы подключения: см. `docs/HARDWARE_SETUP.md`.
- Инструкция по сборке модуля.
  - [СКРИНШОТ: Собранный модуль]
- Инструкция по подключению к станку (с ВАРНИНГАМИ о безопасности при работе с высоким напряжением).

### Важные предупреждения по безопасности
- Все работы с цепями 220/380В выполняются только при снятом напряжении и квалифицированным персоналом.
- Используйте гальваническую развязку (оптопары, изолированные трансформаторы напряжения/тока) между силовыми цепями и ESP32.
- Применяйте защитные автоматы и УЗО в соответствии с локальными нормами.

### PoC: датчик температуры DS18B20
1. Подключите DS18B20 к 3.3В, GND и GPIO4 (с подтягивающим резистором 4.7 кОм между DATA и 3.3В).
2. Установите `OneWire` и `DallasTemperature` библиотеки в PlatformIO.
3. Прошивка: `firmware/src/main.cpp` уже читает температуру и отправляет в backend.
4. Backend: `POST /metrics` сохраняет значения в БД.
5. Frontend: график температуры появляется на дашборде.

- Инструкция по сборке модуля.
  - [СКРИНШОТ: Собранный модуль]
- Инструкция по подключению к станку (с ВАРНИНГАМИ о безопасности при работе с высоким напряжением).

## Установка и настройка ПО
- Прошивка ESP32 (как загрузить код, как записать `config.json` на SD).
  - [СКРИНШОТ: Окно PlatformIO]
- Установка сервера (Docker-команды или ручная установка).
  - [СКРИНШОТ: Успешный запуск сервера в терминале]
- Первоначальная настройка веб-интерфейса.

## Руководство пользователя (для оператора станка)
- Как зайти в веб-интерфейс.
  - [СКРИНШОТ: Страница логина]
- Обзор панели мониторинга.
  - [СКРИНШОТ: Основной дашборд]
- Как просмотреть журнал событий.
  - [СКРИНШОТ: Вкладка "Журнал"]
- Как отправить логи инженеру.
  - [СКРИНШОТ: Вкладка "Диагностика"]
- Как внести запись о проведенном обслуживании.
  - [СКРИНШОТ: Форма добавления записи ТО]

## Руководство инженера/администратора
- Настройка порогов аварий и параметров.
  - [СКРИНШОТ: Админ-панель "Настройки"]
- Работа с инженерным ПО: пошаговый разбор случая.
  - [СКРИНШОТ: Графики в десктоп-приложении]
- Методика анализа спектра вибрации.

## Приложения
- JSON-схемы конфигурационных файлов (см. `docs/config_schema.json`).
- FAQ по проблемам.
